{% include "header.html" %}

<link rel="stylesheet" type="text/css" href="/static/assets/css/reg_css.css">

    <div class="background"></div>
    {% if error %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{msg}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endif %}
    <div class="container" id="container" align="center">
        <form action="{% url 'registerUser' %}" method="POST" id="signup-form" >
            {% csrf_token %}
            <table>
                <tr>
                    <td colspan="3" align="center"><h2>Sign up</h2></td>
                </tr>
                <tr>
                    <td><label for="fname">Full Name <span style="color: red;">*</span></label></td>
                    <td><input class="input-group col-md-12" type="text" name="fname" placeholder="first name" required></td>
                    <td><input class="input-group col-md-12" type="text" name="lname" placeholder="last name" required></td>
                </tr>
                <tr>
                    <td><label for="email">Email <span style="color: red;">*</span></label></td>
                    <td colspan="2"><input type="email" name="email" placeholder="abc@gmail.com" required></td>
                </tr>
                <tr>
                    <td><label for="password">Password <span style="color: red;">*</span></label></td>
                    <td colspan="2">
                        <input type="password" name="password" minlength="6" id="password" placeholder="Minimum 6 characters" required>
                    </td>
                </tr>
               
                <tr>
                    <td><label for="cpassword">Confirm Password <span style="color: red;">*</span></label></td>
                    <td colspan="2">
                        <input type="text" name="cpassword" minlength="6" id="cpassword" placeholder="re-enter password" required>
                        <i class="fa-solid fa-eye cpassEye" id="passEye"></i>
                    </td>
                </tr>
                <tr>
                    <td><label for="gender">Gender</label></td>
                    <td>
                        <input type="radio" class="radiobtn" id="male" name="gender" value="Male" required>&nbsp;&nbsp;&nbsp;&nbsp;<label for="male">Male</label><br>
                        <input type="radio" class="radiobtn" id="female" name="gender" value="Female" required>&nbsp;&nbsp;&nbsp;&nbsp;<label for="female">Female</label>
                    </td>
                </tr>
                <tr>
                    <td><label for="phone">Phone No. <span style="color: red;">*</span></label></td>
                    <td colspan="2"><input type="tel" name="phone" maxlength="10" placeholder="+91 ..." required></td>
                </tr>
                <tr>
                    <td><label for="address">Address</label></td>
                    <td colspan="2"><textarea name="address" placeholder="Block no, appartment name, area name" required></textarea></td>
                </tr>
                <tr>
                    <td><label for="state">State</label></td>
                    <td colspan="2"> 
                        <select name="state" id="state" required>
                        <option value="">Select your state</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Utter Pradesh">Utter Pradesh</option>
                      </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="city">City</label></td>
                    <td colspan="2">
                        <select name="city" id="city" required>
                            <option value="">Select your city</option>
                            {% for c in getCity %}
                            <option value="{{c.c_name}}">{{c.c_name}}</option>
                            {% endfor %}
                          </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="pincode">Zip Code</label></td>
                    <td colspan="2"><input type="text" name="zipcode" maxlength="6" required></td>
                </tr>
                <tr>
                    <td colspan="3" align="center">
                        <input class="btn fw-bolder shadow btn-outline-primary col-md-4" type="submit" name="submit" value="SignUp" onclick="return validateForm()">
                        <input class="btn fw-bolder shadow btn-outline-primary col-md-4" type="reset" name="reset" value="Clear">
                    </td>
                </tr>
                <tr>
                    <td id="lasttd" colspan="3" align="center">Already have an account?&nbsp;<a href="/login/">Signin</a></td>
                </tr>
            </table>
        </form>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script src="/static/assets/js/script_password.js"></script>
    <script>
        function validateForm() {
            console.log("Form submitted");
            const fname = document.forms["signup-form"]["fname"].value.trim();
            const lname = document.forms["signup-form"]["lname"].value.trim();
            const phone = document.forms["signup-form"]["phone"].value.trim();
            const password = document.forms["signup-form"]["password"].value.trim();
            const email = document.forms["signup-form"]["email"].value.trim();
            const cpassword = document.forms["signup-form"]["cpassword"].value.trim();

            


        // Check if the fields are empty
        if (fname === "" || lname === "" || phone === "" || password === "" || email === "" || cpassword === "") {
            // Show an alert if any of the mandatory fields are empty
            alert("Please fill all the mandatory fields: First Name, Last Name, Phone Number, Password, Email, and Confirm Password.");
            return false;  // Prevent form submission if validation fails
        }

        // Check if the phone number is valid (10 digits)
        const phoneRegex = /^\d{10}$/;  // Regular expression for 10-digit phone number
            if (!phoneRegex.test(phone)) {
                // Show an alert if the phone number is invalid
                alert("Please enter a valid 10-digit phone number.");
                return false;  // Prevent form submission if validation fails
            }

            //fname and lname should not contain numbers
            const nameRegex = /^[a-zA-Z\s]+$/;  // Regular expression for names (only letters and spaces)
            if (!nameRegex.test(fname) || !nameRegex.test(lname)) {
                // Show an alert if the name contains numbers or special characters
                alert("Please enter a valid name without numbers or special characters.");
                return false;  // Prevent form submission if validation fails
            }
        }
    </script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    -->
  </body>
</html>